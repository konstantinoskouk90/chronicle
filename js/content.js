function scrapeDOM(){var e,t,o,c,a,n=[],l=document.querySelectorAll(".mbs._6m6._2cnj._5s6c a").length,r=document.querySelectorAll("a").length,m=document.querySelectorAll(".vrhdata").length,s=document.querySelectorAll("iframe").length;if(l>0?a=l:r>0&&"www.bing.com"!==location.hostname?a=r:m>0&&"www.bing.com"===location.hostname&&(a=m),a>0)for(var u=0;a>u;u++)"www.facebook.com"===location.hostname&&document.querySelectorAll(".mbs._6m6._2cnj._5s6c a").length?o=document.querySelectorAll(".mbs._6m6._2cnj._5s6c a")[u].getAttribute("onmouseover"):document.querySelectorAll("a").length&&"www.bing.com"!==location.hostname&&!/yahoo\.com/.test(window.location.href)?o=document.querySelectorAll("a")[u].href:/yahoo\.com/.test(window.location.href)?o=document.querySelectorAll("a")[u].getAttribute("data-rurl"):"www.bing.com"===location.hostname&&(o=JSON.parse(document.querySelectorAll(".vrhdata")[u].getAttribute("vrhm")).purl),o&&("www.facebook.com"===location.hostname&&/\/watch\?v\=/.test(o)&&!/attribution_link/.test(o)?e=o.match(/\/watch\?v\=([^&]+)/)[1].split('");')[0].replace(/\#$/,""):"www.facebook.com"===location.hostname&&/youtu\.be/.test(o)&&!/feature/.test(o)?e=o.match(/youtu([^&]+)/)[1].match(/.*/)[0].split("/")[1].split('");')[0].replace(/\#$/,""):"www.facebook.com"===location.hostname&&/feature.*youtu\.be&v=/.test(o)?e=o.match(/&v=([^&]+)/)[1].split('");')[0].replace(/\#$/,""):"www.youtube.com"===location.hostname&&/results\?search\_query\=/.test(location.href)&&/\/watch\?v\=/.test(o)?/feature=player-title/.test(document.querySelectorAll("a")[u].getAttribute("data-sessionlink"))||/ytp-next-button/.test(document.querySelectorAll("a")[u].getAttribute("class"))||(e=o.match(/\/watch\?v\=([^&]+)/)[1].replace(/\#$/,"")):"www.facebook.com"!==location.hostname&&"www.bing.com"!==location.hostname&&/\/watch\?v\=/.test(o)?e=o.match(/\/watch\?v\=([^&]+)/)[1].replace(/\#$/,""):"www.bing.com"===location.hostname&&(e=o.split("watch?v=")[1]),void 0!==e&&n.indexOf(e)<0&&n.push(e));if(s>0)for(var i=0;s>i;i++)c=document.querySelectorAll("iframe")[i].src,/www\.youtube\.com\/embed/.test(c)&&(t=c.match(/embed\/([^&?]+)/)[1]),void 0!==t&&n.indexOf(t)<0&&n.push(t);sendMessage(n)}function sendMessage(e){e.length?chrome.runtime.sendMessage({from:"content",found:!0,data:e}):chrome.runtime.sendMessage({from:"content",found:!1})}scrapeDOM();